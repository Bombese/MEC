--// B All HUB (Premium Edition - Fixed Click)
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local CoreGui = game:GetService("CoreGui")

-- ลบ GUI เดิมถ้ามี
if CoreGui:FindFirstChild("BAllHub") then
    CoreGui.BAllHub:Destroy()
end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "BAllHub"
ScreenGui.Parent = CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.ResetOnSpawn = false

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.BackgroundTransparency = 0.15
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.32, 0, 0.3, 0)
MainFrame.Size = UDim2.new(0, 440, 0, 280)
MainFrame.Active = true
MainFrame.Selectable = true
MainFrame.Draggable = true

local Glow = Instance.new("UIStroke", MainFrame)
Glow.Thickness = 2
Glow.Color = Color3.fromRGB(130, 70, 255)
Glow.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

local UICorner = Instance.new("UICorner", MainFrame)
UICorner.CornerRadius = UDim.new(0, 10)

-- Title Bar
local Title = Instance.new("TextLabel")
Title.Parent = MainFrame
Title.BackgroundTransparency = 1
Title.Size = UDim2.new(1, -40, 0, 40)
Title.Position = UDim2.new(0, 20, 0, 5)
Title.Font = Enum.Font.GothamBold
Title.Text = "B All HUB  |  Premium Edition"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextScaled = true
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.ZIndex = 2

-- Close Button
local Close = Instance.new("TextButton")
Close.Parent = MainFrame
Close.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
Close.Size = UDim2.new(0, 30, 0, 25)
Close.Position = UDim2.new(1, -40, 0, 8)
Close.Text = "✕"
Close.TextColor3 = Color3.new(1, 1, 1)
Close.Font = Enum.Font.GothamBold
Close.TextScaled = true
Close.AutoButtonColor = true
Close.ZIndex = 3
local CloseCorner = Instance.new("UICorner", Close)
CloseCorner.CornerRadius = UDim.new(0, 6)
Close.MouseButton1Click:Connect(function()
	ScreenGui:Destroy()
end)

-- Sidebar
local Sidebar = Instance.new("Frame")
Sidebar.Parent = MainFrame
Sidebar.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Sidebar.Size = UDim2.new(0, 130, 1, -50)
Sidebar.Position = UDim2.new(0, 0, 0, 50)
Sidebar.Active = true
Sidebar.ZIndex = 2
local SideCorner = Instance.new("UICorner", Sidebar)
SideCorner.CornerRadius = UDim.new(0, 10)

-- ปุ่ม Sidebar function
local function CreateButton(name, text, posY)
	local btn = Instance.new("TextButton")
	btn.Name = name
	btn.Parent = Sidebar
	btn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
	btn.Position = UDim2.new(0, 10, 0, posY)
	btn.Size = UDim2.new(0, 110, 0, 35)
	btn.Font = Enum.Font.Gotham
	btn.Text = text
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.TextSize = 14
	btn.AutoButtonColor = true
	btn.Active = true
	btn.Selectable = true
	btn.ZIndex = 3
	local bc = Instance.new("UICorner", btn)
	bc.CornerRadius = UDim.new(0, 6)
	local stroke = Instance.new("UIStroke", btn)
	stroke.Color = Color3.fromRGB(130, 70, 255)
	stroke.Thickness = 1
	return btn
end

local Hack99Btn = CreateButton("Hack99", "Hack 99 Night", 10)
local WarTycoonBtn = CreateButton("WarTycoon", "Hack War Tycoon", 55)
local DiscordBtn = CreateButton("Discord", "Discord", 100)

-- Content Area
local ContentFrame = Instance.new("Frame")
ContentFrame.Parent = MainFrame
ContentFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
ContentFrame.BackgroundTransparency = 0.2
ContentFrame.Position = UDim2.new(0, 140, 0, 50)
ContentFrame.Size = UDim2.new(1, -150, 1, -60)
ContentFrame.ZIndex = 2
local ContentCorner = Instance.new("UICorner", ContentFrame)
ContentCorner.CornerRadius = UDim.new(0, 10)

local Info = Instance.new("TextLabel")
Info.Parent = ContentFrame
Info.BackgroundTransparency = 1
Info.Size = UDim2.new(1, 0, 0, 40)
Info.Position = UDim2.new(0, 0, 0, 10)
Info.Font = Enum.Font.Gotham
Info.TextColor3 = Color3.new(1, 1, 1)
Info.Text = "เลือกหมวดทางซ้ายเพื่อรัน Script"
Info.TextScaled = true
Info.ZIndex = 3

-- Run Button
local RunButton = Instance.new("TextButton")
RunButton.Parent = ContentFrame
RunButton.BackgroundColor3 = Color3.fromRGB(100, 60, 255)
RunButton.Size = UDim2.new(0, 160, 0, 45)
RunButton.Position = UDim2.new(0.25, 0, 0.35, 0)
RunButton.Font = Enum.Font.GothamBold
RunButton.Text = "Run Script"
RunButton.TextColor3 = Color3.new(1, 1, 1)
RunButton.TextScaled = true
RunButton.AutoButtonColor = true
RunButton.Active = true
RunButton.Selectable = true
RunButton.ZIndex = 3
local runCorner = Instance.new("UICorner", RunButton)
runCorner.CornerRadius = UDim.new(0, 10)

-- Script URL
local currentMode = nil
local scriptUrls = {
	["Hack99"] = "https://raw.githubusercontent.com/MQPS7/99-Night-in-the-Forset/refs/heads/main/99v3",
	["WarTycoon"] = "https://raw.githubusercontent.com/Kaguya11/KaguHubRework/refs/heads/main/Scripts/Loader.lua"
}

-- เปลี่ยนหมวด
Hack99Btn.MouseButton1Click:Connect(function()
	currentMode = "Hack99"
	Info.Text = "โหมด: 99 Night"
	RunButton.Text = "Run Script (99 Night)"
end)

WarTycoonBtn.MouseButton1Click:Connect(function()
	currentMode = "WarTycoon"
	Info.Text = "โหมด: War Tycoon"
	RunButton.Text = "Run Script (War Tycoon)"
end)

DiscordBtn.MouseButton1Click:Connect(function()
	currentMode = "Discord"
	Info.Text = "ลิงก์ Discord ของ HUB นี้"
	RunButton.Text = "คัดลอกลิงก์ Discord"
end)

-- ปุ่มรันสคริปต์
RunButton.MouseButton1Click:Connect(function()
	if currentMode == "Hack99" or currentMode == "WarTycoon" then
		loadstring(game:HttpGet(scriptUrls[currentMode]))()
		ScreenGui:Destroy()
	elseif currentMode == "Discord" then
		if setclipboard then
			setclipboard("https://discord.gg/4JPgtddfHn")
			game:GetService("StarterGui"):SetCore("SendNotification", {
				Title = "B All HUB";
				Text = "คัดลอกลิงก์ Discord แล้ว!";
				Duration = 3;
			})
		else
			game:GetService("StarterGui"):SetCore("SendNotification", {
				Title = "B All HUB";
				Text = "Executor ของคุณไม่รองรับ setclipboard";
				Duration = 3;
			})
		end
	else
		game:GetService("StarterGui"):SetCore("SendNotification", {
			Title = "B All HUB";
			Text = "กรุณาเลือกหมวดก่อนรัน";
			Duration = 3;
		})
	end
end)